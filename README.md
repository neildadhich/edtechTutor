# PDF Slideshow with Gemini Chat

This project allows users to upload a PDF, view it as a slideshow, and chat with a Gemini-powered AI about each slide. Slide presentations are voiced using Gemini's native Text-to-Speech capabilities.

## Project Structure

```
VideoTutor/
â”œâ”€â”€ backend/                  # Flask backend
â”‚   â”œâ”€â”€ app.py                # Main Flask application
â”‚   â”œâ”€â”€ requirements.txt      # Python dependencies
â”‚   â”œâ”€â”€ uploads/              # Stores uploaded PDF files
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ slides/           # Stores extracted slide images (in subfolders per PDF)
â”‚       â””â”€â”€ audio/            # Stores generated TTS audio files (WAV)
â”‚   â””â”€â”€ .env                  # For API keys (you need to create this)
â”œâ”€â”€ frontend/                 # HTML, CSS, JS frontend
â”‚   â”œâ”€â”€ index.html            # Main HTML page
â”‚   â”œâ”€â”€ style.css             # CSS styles
â”‚   â””â”€â”€ script.js             # JavaScript logic
â””â”€â”€ README.md                 # This file
```

## Prerequisites

*   Python 3.7+
*   `pip` (Python package installer)
*   A Gemini API Key (ensure it has access to the necessary models, including TTS models like `gemini-1.5-pro-tts` or the specific one you intend to use, e.g., `gemini-2.5-flash-preview-tts`).

## Setup and Running the Application

**1. Clone the Repository (if applicable)**

If you haven't already, clone this repository to your local machine.

**2. Backend Setup**

   a.  **Navigate to the backend directory:**
       ```bash
       cd backend
       ```

   b.  **Create and activate a virtual environment (recommended):**
       *   On macOS/Linux:
           ```bash
           python3 -m venv venv
           source venv/bin/activate
           ```
       *   On Windows:
           ```bash
           python -m venv venv
           .\venv\Scripts\activate
           ```

   c.  **Install Python dependencies:**
       ```bash
       pip install -r requirements.txt
       ```

   d.  **Set up your Gemini API Key:**
       Create a file named `.env` inside the `backend` directory.
       Add your Gemini API key and a Flask secret key:
       ```env
       GEMINI_API_KEY=YOUR_GEMINI_API_KEY_HERE
       FLASK_SECRET_KEY=YOUR_FLASK_SECRET_KEY_HERE # Add a strong, random secret key for Flask sessions
       ```
       Replace `YOUR_GEMINI_API_KEY_HERE` with your actual API key.
       Replace `YOUR_FLASK_SECRET_KEY_HERE` with a long, random, strong string for Flask session security (e.g., generated by `python -c 'import secrets; print(secrets.token_hex(32))'`).

   e.  **Run the Flask backend server:**
       With the environment variables set:
       ```bash
       flask run --port 5001
       ```
       The backend server will start, usually at `http://localhost:5001`.

**3. Frontend Access**

   There are two main ways to access the frontend:

   a.  **Directly opening `index.html` (might have CORS issues without a server):**
       Navigate to the `frontend` directory and open `index.html` in your web browser.
       *Note: Due to browser security (CORS), direct file access might prevent the frontend from communicating with the backend. If you see errors in the browser console related to CORS, use method (b).* The current backend is configured with `Flask-CORS` which should allow this method if the backend is running.

   b.  **Using a simple HTTP server (Recommended for development if CORS issues arise):**
       If you have Python installed, you can easily serve the `frontend` directory:
       *   Open a new terminal window.
       *   Navigate to the `frontend` directory:
           ```bash
           cd frontend
           ```
       *   Start a simple HTTP server (for Python 3):
           ```bash
           python -m http.server 8000
           ```
       *   Then, open your web browser and go to `http://localhost:8000`.

**4. Using the Application**

*   Once the backend is running and you have the frontend open in your browser:
*   Click "Choose File" to select a PDF document.
*   Click "Upload & Display". The PDF pages will be converted to images and displayed as a slideshow.
*   Navigate through the slides using the "Previous" and "Next" buttons.
*   For each slide, you can type a question into the chatbox and click "Send" to get a response from Gemini based on the content of the current slide.
*   Click "ðŸŽ¤ Present Slide" to hear a narration of the slide script generated and voiced by Gemini.

## Notes

*   The backend is configured to run on port `5001` to avoid common conflicts.
*   Uploaded PDFs are stored in `backend/uploads/`.
*   Extracted slide images are stored in `backend/static/slides/` within a sub-directory named after the PDF to handle multiple PDF uploads without overwriting previous slides (as per recent updates to `app.py`).
*   The `gemini-pro-vision` model is used for chat. Ensure your API key has access to this model or update the model name in `backend/app.py` if needed.
*   Generated audio files (WAV format) are stored in `backend/static/audio/`.
*   The Gemini TTS voice `Kore` (via a model like `gemini-1.5-pro-tts`) is used as an example in `backend/app.py`. You can explore and change this based on available Gemini TTS voices and models your API key has access to.
*   Ensure your `GEMINI_API_KEY` is correct and has permissions for the text generation and TTS models being used. If you encounter errors, check the backend console output for details from the Gemini API. 